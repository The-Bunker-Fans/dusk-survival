- type: entity
  name: floor lamp
  id: BaseFloorLamp
  parent: BaseStructure
  abstract: true
  components:
  - type: Transform
    anchored: true
  - type: Physics
    bodyType: Static
  - type: Clickable
  - type: InteractionOutline
  - type: Anchorable
  - type: Sprite
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.2
        density: 100
        mask:
        - MobMask
        layer:
        - MachineLayer
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 25
      behaviors:
      - !type:EmptyAllContainersBehaviour
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Appearance
  - type: PoweredLight
    hasLampOnSpawn: LightBulb
    damage:
      types:
        Heat: 2.5
  - type: ApcPowerReceiver
  - type: ExtensionCableReceiver
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: SmartLight
  - type: WirelessNetworkConnection
    range: 200
  - type: DeviceLinkSink
    ports:
      - On
      - Off
      - Toggle
  - type: ToggleableLightVisuals
  - type: StaticPrice
    price: 15

- type: entity
  name: floor lamp
  id: FloorLamp
  parent: BaseFloorLamp
  description: Makes the room more comfortable.
  components:
  - type: Sprite
    sprite: Structures/Furniture/floor_lamp.rsi
    layers:
    - state: floor-lamp-stick
    - map: ["enum.PoweredLightLayers.Base"]
      state: floor-lamp-lamp
    - map: ["enum.PoweredLightLayers.Glow"]
      state: floor-lamp-lamp-light
      shader: unshaded
  - type: PoweredLightVisuals
    spriteStateMap:
      empty: floor-lamp-stick
      off: floor-lamp-lamp
      on: floor-lamp-lamp
      broken: floor-lamp-lamp-broken
  - type: PointLight
    radius: 6
    energy: 1
    softness: 1.3
    color: "#ffaf28"
  - type: Construction
    graph: FloorLamp
    node: floorLamp

- type: entity
  name: floor lamp
  id: FloorLampHeaded
  parent: BaseFloorLamp
  description: Makes the room more comfortable.
  components:
  - type: Sprite
    sprite: Structures/Furniture/floor_lamp.rsi
    layers:
    - state: floor-lamp-stick
    - map: ["enum.PoweredLightLayers.Base"]
      state: floor-lamp-lamp
    - state: floor-lamp-head
      map: ["enum.DamageStateVisualLayers.Base"]
    - map: ["enum.PoweredLightLayers.Glow"]
      state: floor-lamp-light
      shader: unshaded
  - type: RandomSprite
    available:
      - enum.DamageStateVisualLayers.Base:
          floor-lamp-head: Rainbow
  - type: PoweredLightVisuals
    spriteStateMap:
      off: floor-lamp-lamp
      on: floor-lamp-lamp
      broken: floor-lamp-lamp-broken
  - type: PointLight
    radius: 5
    energy: 1
    softness: 1.5
    color: "#ffaf28"
  - type: Construction
    graph: FloorLamp
    node: floorLampHeaded
